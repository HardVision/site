<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Login</title>
  <link rel="stylesheet" href="css/login.css">

</head>
<body style="background-color: #01303F;">
 <!-- <img src="assets/logo.png" alt="logo" class="fixed-logo">-->
  <a href="index.html">
  <img src="assets/logo.png" alt="logo" class="fixed-logo">
</a>
 

  <div class="container-pai">
    <!-- Coluna Esquerda -->
    <div class="bemVindo">
      <h2>Bem-vindo(a)!<h2>
      <!-- Se quiser, pode colocar uma linha ou outros textos aqui -->
    </div>

    <!-- Coluna Direita -->
    <div class="login-container">
      <h2 style="color: #01303F; font-weight: 900;">Recuperar senha</h2>
<p style="text-align:center; margin-bottom: 20px; color:#072850; font-size:14px;"> 
    Digite seu e-mail abaixo para redefinir a senha da sua conta.
</p>
      <div class="form-group">
        <img src="assets/envelope-solid-full.svg" alt="ícone email">
        <input type="email" id="email" name="email" required placeholder=" ">
        <label for="email">Email</label>
      </div>
      
      <button onclick="entrar()">Redefinir senha</button>
      <p class="cadastro"><a href="login.html">Voltar para login</a></p>
    </div>
  </div>
</body>
   <div id="alerta">
      <div class="alerta-icone" id="alertaIcone">
        <img src="assets/triangle-exclamation-solid-full.svg" alt="Alerta" id="alertaImg">
      </div>
      <p class="alerta-texto" id="alertaTxt">eai?</p>
    </div>
</html>
<script>
  function mostrarAlerta(msg, color) {
    alerta.style.display = "flex";
    alertaIcone.style.backgroundColor = color;
    alertaTxt.innerText = msg;

    alerta.classList.add("mostrar");

    setTimeout(() => {
      alerta.classList.remove("mostrar");
      setTimeout(() => alerta.style.display = "none", 500);
    }, 5000);
  }

 function redefinirSenha() {
  const email = document.getElementById("email").value.trim();
  const mensagem = document.getElementById("mensagem");

  // Verificação básica
  if (email === "") {
    mensagem.innerText = "Por favor, digite o e-mail.";
    mensagem.style.color = "red";
    return;
  }

//   if (!email.endsWith("@gmail.com")) {
//     mensagem.innerText = "Formato de e-mail inválido. Use um @gmail.com";
//     mensagem.style.color = "red";
//     return;
//   }

  // Aqui normalmente você chamaria o backend para enviar o e-mail de recuperação
  fetch("/usuarios/redefinir-senha", {
    method: "POST",
    headers: {
      "Content-Type": "application/json",
    },
    body: JSON.stringify({ emailServer: email }),
  })
    .then((resposta) => {
      if (resposta.ok) {
        mensagem.innerText = "Se o e-mail estiver cadastrado, você receberá um link de redefinição.";
        mensagem.style.color = "green";
      } else {
        mensagem.innerText = "Erro ao tentar redefinir a senha.";
        mensagem.style.color = "red";
      }
    })
    .catch((erro) => {
      console.error("Erro:", erro);
      mensagem.innerText = "Erro de conexão com o servidor.";
      mensagem.style.color = "red";
    });
}

</script>
